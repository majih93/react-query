# 과제 수행 개인 보고서

## 역할

1. 회원 정보를 조회하는 UserManage 페이지 내에서 검색하고자 하는 정보를 입력하는 Search 컴포넌트 부분 구현
2. Search 컴포넌트 및 심박수/걸음수 차트에서 사용되는 조회기간 컴포넌트 구현(Datepicker 컴포넌트 포함)

## 개발 진행

### 회원검색 - Search 컴포넌트 구현

#### 작업 내용

- 제공된 Layout에서 UI 형태를 변경

> 제공된 기획서에는 회원검색 부분에 `로그인 ID` 및 `회원번호`에 대한 검색 input 이 동시에 존재하였으나, 팀원들과 회의해본 결과 `로그인 ID`와 `회원번호`는 서로 다르게 입력할 수 없는 값이라는 점에서 동시에 검색값을 입력하지 않는 것이 좋겠다고 판단하였고, 이에 따라 드롭다운 형태로 `로그인 ID/회원번호` 둘 중 하나의 카테고리를 선택해 입력하는 형태로 UI를 변경

- `검색` 버튼을 클릭했을 때, 유저가 입력한 데이터를 입력받아 recoil state 에 저장
  -> 저장되는 데이터의 형태에 대해 이 데이터를 활용해 회원목록을 필터링하는 기능구현을 담당하신 팀원 `치호님`과 사전에 상의
  -> 특정 입력값이 있거나, 없는 경우들에 대해 조건을 고려해 전달되는 데이터가 일관성을 유지하도록 구현

- 초기화 버튼 클릭에 따라 필요한 기능 구현
  -> UI 측면에세, 검색 카테고리는 `로그인 ID`로 세팅 / input창 clear / 조회기간 `전체`로 변경되도록 구현
  -> 팀원들에게 전달되는 데이터와 관련해서, 초기화에 따른 입력값에 따라 default로 세팅되어야하는 데이터값으로 변경되도록 구현
  -> 초기화 버튼 클릭 시 SearchDateRange 내 state 값을 초기화 하기 위해서 초기화 버튼 클릭 여부를 저장하는 recoil state 생성 및 해당 state 값이 true 로 변경될 경우 실행될 side effect 로직을 담은 useEffect 함수를 SearchDateRange 컴포넌트에 추가

### 조회기간 - SearchDateRange 컴포넌트 구현

#### 작업내용

- Datepicker 기능 구현을 위한 DatePickerModal 컴포넌트 추가(`react-date-range` 사용)
- 조회기간 input 을 클릭하면 DatePickerModal이 뜨도록 구현(input 클릭했을 때 커서가 한번 보이는 것을 방지하기 위한 스타일링 추가)
- `오늘` / `일주일` / `전체` 버튼 클릭 시 해당날짜값이 input에 반영되고, 팀원들이 날짜에 따른 로직 구현에 필요한 데이터에도 담기도록 구현
- Datepicker 크기 및 위치가 창 크기에 따라서 맞춰지도록 반응형 구현

## 어려웠던 부분

### SearchDateRange 컴포넌트 내 유저 입력 데이터 처리

SearchDateRange 컴포넌트가 사용되는 상황을 고려해서, 특정 input에 대해서 필요한 output이 나오도록 처리 과정을 분기하는 것이 쉽지 않았다. 입력값에 대한 경우의 수가 여러 가지가 존재한다는 점과, 입력값을 다른 컴포넌트에서 필요한 적절한 값으로 변환하는 과정에서 시행착오를 겪었다.

### 초기화 버튼 기능 구현

회원정보를 검색하는 Search 컴포넌트에서 초기화 버튼을 클릭 했을 때 Search 컴포넌트 내의 조회기간을 입력하는 SearchDateRange 컴포넌트 내에서도 초기화 로직이 실행되어야 했다. 이를 어떻게 구현해야될지 고민하는 과정이 조금 어려웠다.

처음에는 무식하게 props로 값을 전부 전달해서 로직을 처리하려고 했다. 하지만 단순히 값을 props로 넘기는 것 뿐만 아니라 SearchDateRange에서 특정 값을 Search 컴포넌트로 거꾸로 state lifting을 통해서 전달해야된다는 문제가 있었다. 이 방식으로 구현하면 로직을 파악하기도 어렵고, 이 컴포넌트가 chart 부분에서 조회기간을 입력할 때 예측할 수 없는 버그가 생길 수도 있겠다는 생각이 들었다.

다시 고민한 결과, 초기화 버튼 클릭 여부를 저장하는 recoil state를 통해서 초기화 여부를 SearchDateRange 에 전달하고, 이 상태에 따른 side effect 로직만 한 번 실행해주는 식으로 해결할 수 있었다.

결과적으로 보면 굉장히 간단하고 쉬운 방법이 있었는데 쓸데없이 오래 고민한 부분이 아쉽다.

## 느낀 점

- 10명의 팀원들이 함께 작업하다 보니 작업의 순서가 조금씩 엉키면서 프로젝트가 원래 정했던 기간보다 길어진 듯 하다. 처음에 나름대로 기획 및 역할 분담을 깔끔하게 했다고 생각했는데도 실제로 구현하는 과정은 달랐다. 일정 및 작업 순서 관리 등이 팀프로젝트에서 매우 중요하다는 것을 다시 느꼈다.

- 초기화 기능을 구현하면서, recoil을 통해 전역 상태를 활용해서 로직을 구현하면 특정 문제를 굉장히 간단하게 해결할 수 있다는 점을 느꼈다. 사실 redux,recoil 등 상태 관리 라이브러리의 효용을 엄청 피부로 느낀 적이 잘 없었는데, 이번 기회에 recoil을 통해서 어렵게 느낀 문제를 해결해본 경험이 좋았다.

- 내가 작업하는 부분과 연결되는 부분을 작업하는 팀원과 필요한 내용을 상의하는 것이 매우 중요하다고 느꼈다. 이번에도 서로 전달받을 데이터의 형태를 미리 정확하게 정의해두고 작업하니 훨씬 수월했다.

- 팀프로젝트에서는 맡은 부분을 구현할 때 너무 근시안적으로 구현하는 것을 경계해야겠다는 생각이 들었다. 내가 생각없이 넣어둔 CSS style이 다른 팀원의 코드에 영향을 주어서, 왜 의도한대로 구현이 되지 않는지 찾느라 시간을 많이 썼다. 왜 모듈화, 지역변수 등을 통해서 특정 코드가 전역에 영향이 안가게 하려고 하는지 느꼈다. 또한, 내가 맡은 부분 뿐만 아니라 전체적인 그림에서 내가 작성하는 코드가 원하는대로 동작하도록 하는 고민이 필요하다는 것을 배웠다.

- 팀장님인 `학률님`께서 알려주신 방법대로, 무턱대고 되는대로 구현하는 방식이 아니라 먼저 데이터가 어떻게 이동되는지, 컴포넌트 간의 관계가 어떻게 되는지 등 관계도를 먼저 그려보고, 이를 기반으로 구현하는 방식을 사용해보았다. 아직 구현 속도가 비약적으로 증가하거나 하지는 않았지만, 이전보다 훨씬 더 내가 뭘 하는지 인지하면서 기능을 구현했던 것 같다. 확실히 이 방법을 활용하니 더 체계적으로 작업이 이루어진다는 점을 느꼈다. 좋은 방법을 배웠다는 생각이 든다.
